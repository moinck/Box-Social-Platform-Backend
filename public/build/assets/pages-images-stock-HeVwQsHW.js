$(function(){$(document).on("click",".save_select_images",function(){const e=$("#stock_images_management")[0],t=new FormData(e);$.ajax({type:"POST",url:"image-management/store",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:t,processData:!1,data:t,dataType:"json",contentType:!1,beforeSend:function(){showBSPLoader()},complete:function(){hideBSPLoader()},success:function(a){showSweetAlert("success","Store!","Your image has been successfully saved to your design template!.")},error:function(a,c,s){hideBSPLoader(),console.log(a.responseText),showSweetAlert("error","Error!","Something went wrong.")}})}),$(document).on("click","#nextButton",function(e){e.preventDefault();var t=parseInt($("#total_page").val())+parseInt(1);$("#total_page").val(t),n()}),$(document).on("click","#previousButton",function(e){e.preventDefault();var t=parseInt($("#total_page").val())-parseInt(1);$("#total_page").val(t),n()});function n(){$.ajax({type:"POST",url:"get-image-management",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{type:$("#select2Icons").val(),page:$("#total_page").val(),api_type:$("#api_type").val()},beforeSend:function(){showBSPLoader()},complete:function(){hideBSPLoader()},success:function(e){var t="",a="";$("#api_type").val()=="pexels"?a=e.photos:a=e.hits,console.log(a),$.each(a,function(c,s){var o="";$("#api_type").val()=="pexels"?o=s.src.large:o=s.largeImageURL,t+='<div class="col-lg-3 col-md-6 col-sm-12"><div class="card drag-item cursor-move mb-lg-0 mb-6"><div class="card-body text-center" style=><label class="form-check m-0" style="float: right"><input type="checkbox" class="form-check-input" value='+o+' name="selectImages[]"></label><img src='+o+' style="width: 96%; height:auto"></div></div></div>'}),$("#sortable-cards").html(t)},error:function(e){hideBSPLoader(),console.log(e)}})}$(document).on("click",".search_btn",function(e){e.preventDefault(),$("#total_page").val(1),n()})});
